[pytest]
# Pytest configuration for BMAD Skills

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Default test paths
testpaths = tests

# Markers for test categorization
markers =
    e2e: End-to-end integration tests using claude CLI
    smoke: Quick smoke tests for basic functionality (<5 min)
    slow: Slow tests that take >1 minute
    expensive: Tests that consume significant API credits (>$0.50)
    bmad: Tests for BMAD workflow (L2-4)
    openspec: Tests for OpenSpec workflow (L0-1)
    unit: Unit tests (fast, isolated)
    integration: Integration tests (metadata, contracts)

# Output options
addopts =
    -v
    --strict-markers
    --tb=short
    --color=yes
    # Uncomment to see print statements:
    # -s

# Timeout for all tests (prevent hanging)
timeout = 180

# Ignore directories
norecursedirs =
    .git
    .claude/skills/_runtime
    dist
    build
    *.egg
    __pycache__
    node_modules

# Minimum Python version
minversion = 3.8

# Console output verbosity
console_output_style = progress

# Log settings
log_cli = false
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
